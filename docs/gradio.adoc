= Gradio
:toc: 
:toc-title: Índice de contenidos
:sectnums:
:toclevels: 3
:source-highlighter: coderay


== 1. Componentes de Entrada (Input Components)

=== Textbox: Entrada de texto libre

El componente `Textbox` en Gradio permite a los usuarios introducir texto libremente, ya sea para preguntas, instrucciones, respuestas o cualquier otro dato textual.

==== Características principales
- Puede configurarse como entrada de una sola línea o multilínea.
- Permite establecer un valor por defecto, un placeholder y la longitud máxima del texto.
- Se puede usar tanto como componente de entrada como de salida.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def invertir_texto(texto):
    return texto[::-1]

demo = gr.Interface(
    fn=invertir_texto,
    inputs=gr.Textbox(
        label="Introduce tu texto",
        placeholder="Escribe algo aquí...",
        lines=1,               # Cambia a lines=5 para multilinea
        max_length=100
    ),
    outputs=gr.Textbox(label="Texto invertido")
)

demo.launch()
----

==== Ejemplo avanzado: Textbox multilínea con valor por defecto

[source,python]
----
import gradio as gr

def contar_palabras(texto):
    return f"Número de palabras: {len(texto.split())}"

demo = gr.Interface(
    fn=contar_palabras,
    inputs=gr.Textbox(
        label="Texto para análisis",
        value="Este es un texto de ejemplo.",
        placeholder="Introduce tu texto aquí...",
        lines=4,           # Multilínea
        max_length=500
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Parámetros principales
|===
| Parámetro      | Descripción                                     | Valor por defecto 
| `label`        | Etiqueta mostrada sobre el campo                | `None`            
| `value`        | Valor inicial                                   | `""`              
| `placeholder`  | Texto guía cuando el campo está vacío           | `""`              
| `lines`        | Número de líneas visibles (1 = una sola línea)  | `1`               
| `max_lines`    | Máximo de líneas permitidas                     | `1`               
| `max_length`   | Número máximo de caracteres                     | `None`            
| `type`         | Tipo de dato devuelto (`"value"` o `"password"`) | `"value"`        
|===

==== Casos de uso
- Entrada de preguntas para chatbots.
- Solicitud de instrucciones para modelos generativos.
- Formularios de contacto o feedback.
- Entrada de código o fragmentos de texto para análisis.



=== Textarea: Entrada de texto multilínea

El componente `Textarea` en Gradio permite a los usuarios introducir o visualizar texto en varias líneas, ideal para comentarios largos, párrafos, código o análisis de texto extenso.

==== Características principales
- Permite la entrada de texto de longitud y formato variable.
- Configurable en número de líneas visibles y máximo de caracteres.
- Puede utilizarse como entrada o salida en una interfaz Gradio.
- Admite valores por defecto y placeholders personalizados.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def resumen(texto):
    return f"Longitud del texto: {len(texto)} caracteres"

demo = gr.Interface(
    fn=resumen,
    inputs=gr.Textbox(
        label="Introduce un texto largo",
        placeholder="Escribe aquí tu comentario o párrafo...",
        lines=5,           # Multilínea
        max_length=1000
    ),
    outputs=gr.Textbox(label="Resumen")
)

demo.launch()
----

==== Ejemplo avanzado: Textarea como salida

[source,python]
----
import gradio as gr

def analizar_texto(texto):
    palabras = texto.split()
    return f"Palabras: {len(palabras)}\nPrimeras 10: {palabras[:10]}"

demo = gr.Interface(
    fn=analizar_texto,
    inputs=gr.Textbox(
        label="Texto para análisis",
        lines=8,
        max_length=2000
    ),
    outputs=gr.Textbox(label="Análisis", lines=4)
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro      | Descripción                                     | Valor por defecto 
| `label`        | Etiqueta mostrada sobre el campo                | `None`            
| `value`        | Valor inicial                                   | `""`              
| `placeholder`  | Texto guía cuando el campo está vacío           | `""`              
| `lines`        | Número de líneas visibles                       | `1`               
| `max_lines`    | Máximo de líneas permitidas                     | `None`            
| `max_length`   | Número máximo de caracteres                     | `None`            
| `type`         | Tipo de dato devuelto (`"value"` o `"password"`) | `"value"`        
|===

==== Casos de uso
- Entrada de comentarios, descripciones o feedback extensos.
- Edición y análisis de fragmentos de código.
- Procesamiento de textos largos en aplicaciones NLP.
- Visualización de resultados de análisis textual.



=== Number: Entrada numérica

El componente `Number` en Gradio permite a los usuarios introducir valores numéricos, ya sea enteros o decimales, de forma sencilla y validada.

==== Características principales
- Acepta tanto números enteros como decimales.
- Permite establecer valores mínimos, máximos y un valor por defecto.
- Puede usarse como entrada o salida en una interfaz Gradio.
- Ideal para parámetros, configuraciones, cálculos o cualquier input cuantitativo.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def cuadrado(x):
    return x ** 2

demo = gr.Interface(
    fn=cuadrado,
    inputs=gr.Number(label="Introduce un número", value=2, minimum=0, maximum=100),
    outputs=gr.Number(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Número decimal y validación

[source,python]
----
import gradio as gr

def calcular_iva(precio):
    iva = precio * 0.21
    total = precio + iva
    return f"IVA: {iva:.2f} €, Total: {total:.2f} €"

demo = gr.Interface(
    fn=calcular_iva,
    inputs=gr.Number(label="Precio sin IVA", value=10.0, minimum=0, step=0.01),
    outputs=gr.Textbox(label="Detalle del cálculo")
)

demo.launch()
----

==== Parámetros principales
|===
| Parámetro      | Descripción                                         | Valor por defecto 
| `label`        | Etiqueta mostrada sobre el campo                    | `None`            
| `value`        | Valor inicial                                       | `None`            
| `minimum`      | Valor mínimo permitido                              | `None`            
| `maximum`      | Valor máximo permitido                              | `None`            
| `step`         | Incremento entre valores posibles                   | `None`            
| `precision`    | Número de decimales permitidos                      | `None`            
|===
==== Casos de uso
- Parámetros de modelos o funciones matemáticas.
- Edición de precios, cantidades, porcentajes.
- Formularios de entrada cuantitativa en dashboards.
- Cualquier aplicación donde se requiera validación numérica.


=== Slider: Selector de valores numéricos en un rango

El componente `Slider` en Gradio permite a los usuarios seleccionar un valor numérico dentro de un rango definido, moviendo un control deslizante. Es ideal para ajustar parámetros de manera intuitiva.

==== Características principales
- Permite definir valores mínimo, máximo, paso e inicial.
- Acepta tanto enteros como decimales.
- Visualmente intuitivo y fácil de usar.
- Puede usarse como entrada o salida en una interfaz Gradio.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def multiplicar(valor):
    return f"El doble es {valor * 2}"

demo = gr.Interface(
    fn=multiplicar,
    inputs=gr.Slider(
        minimum=0, 
        maximum=10, 
        step=1, 
        value=5, 
        label="Selecciona un número"
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Slider decimal y visualización dinámica

[source,python]
----
import gradio as gr

def calcular_descuento(precio, descuento):
    final = precio * (1 - descuento/100)
    return f"Precio final: {final:.2f} €"

demo = gr.Interface(
    fn=calcular_descuento,
    inputs=[
        gr.Number(label="Precio original", value=100),
        gr.Slider(minimum=0, maximum=50, step=0.5, value=10, label="Descuento (%)")
    ],
    outputs=gr.Textbox(label="Precio con descuento")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                   | Valor por defecto 
| `label`     | Etiqueta mostrada sobre el slider             | `None`            
| `minimum`   | Valor mínimo permitido                        | `0`               
| `maximum`   | Valor máximo permitido                        | `100`             
| `step`      | Incremento entre valores posibles             | `1`               
| `value`     | Valor inicial                                 | `None`            
| `interactive` | Permite o no la interacción del usuario     | `True`            
|===

==== Casos de uso
- Ajuste de hiperparámetros en modelos de ML.
- Selección de porcentajes, cantidades o niveles.
- Control de volumen, brillo, velocidad, etc.
- Cualquier input numérico donde la precisión visual sea útil.


=== Checkbox: Casilla de verificación

El componente `Checkbox` en Gradio permite a los usuarios seleccionar o deseleccionar una opción booleana mediante una casilla de verificación. Es ideal para activar o desactivar funciones, aceptar condiciones o elegir entre sí/no.

==== Características principales
- Representa un valor booleano (`True` o `False`).
- Puede establecerse un valor inicial (marcado o desmarcado).
- Puede usarse como entrada o salida en una interfaz Gradio.
- Útil para opciones de configuración, filtros, consentimientos, etc.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_estado(checked):
    return "¡La casilla está marcada!" if checked else "La casilla está desmarcada."

demo = gr.Interface(
    fn=mostrar_estado,
    inputs=gr.Checkbox(label="Activar opción", value=True),
    outputs=gr.Textbox(label="Estado")
)

demo.launch()
----

==== Ejemplo avanzado: Checkbox como interruptor de función

[source,python]
----
import gradio as gr

def saludo(nombre, mayusculas):
    texto = f"Hola, {nombre}!"
    return texto.upper() if mayusculas else texto

demo = gr.Interface(
    fn=saludo,
    inputs=[
        gr.Textbox(label="Nombre"),
        gr.Checkbox(label="¿En mayúsculas?", value=False)
    ],
    outputs=gr.Textbox(label="Saludo")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                | Valor por defecto 
|-------------|--------------------------------------------|-------------------
| `label`     | Etiqueta mostrada junto a la casilla       | `None`            
| `value`     | Estado inicial (`True`=marcado, `False`=no)| `False`           
| `interactive` | Permite o no la interacción del usuario  | `True`            
|===

==== Casos de uso
- Activar/desactivar opciones o filtros.
- Consentimiento de términos y condiciones.
- Control de visibilidad o funcionalidad de otros componentes.
- Formularios de preferencias y configuraciones.


=== CheckboxGroup: Selección múltiple de opciones

El componente `CheckboxGroup` en Gradio permite a los usuarios seleccionar varias opciones de una lista de alternativas, mostrando una casilla de verificación para cada opción.

==== Características principales
- Permite seleccionar cero, una o varias opciones de un conjunto.
- Devuelve una lista con las opciones seleccionadas.
- Puede establecer opciones por defecto y personalizar etiquetas.
- Útil para filtros, preferencias, selección de categorías, etc.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_seleccion(opciones):
    if opciones:
        return f"Has seleccionado: {', '.join(opciones)}"
    else:
        return "No has seleccionado ninguna opción."

demo = gr.Interface(
    fn=mostrar_seleccion,
    inputs=gr.CheckboxGroup(
        choices=["Python", "JavaScript", "Java", "C++"],
        label="Lenguajes favoritos"
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Opciones por defecto y personalización

[source,python]
----
import gradio as gr

def calcular_precio(extras):
    base = 10
    precios = {"Queso": 2, "Tomate": 1, "Jamón": 3, "Aceitunas": 1.5}
    total = base + sum(precios[e] for e in extras)
    return f"Precio total: {total} €"

demo = gr.Interface(
    fn=calcular_precio,
    inputs=gr.CheckboxGroup(
        choices=["Queso", "Tomate", "Jamón", "Aceitunas"],
        label="Selecciona tus extras",
        value=["Queso", "Tomate"]  # Seleccionados por defecto
    ),
    outputs=gr.Textbox(label="Precio")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                      | Valor por defecto 
|-------------|--------------------------------------------------|-------------------
| `choices`   | Lista de opciones a mostrar                      | Obligatorio       
| `label`     | Etiqueta mostrada sobre el grupo                 | `None`            
| `value`     | Opciones seleccionadas por defecto (lista)       | `[]`              
| `interactive` | Permite o no la interacción del usuario        | `True`            
|===

==== Casos de uso
- Selección de múltiples preferencias o categorías.
- Filtros en dashboards o formularios.
- Configuración de productos con extras o toppings.
- Encuestas o formularios de opinión.


=== Radio: Selección única entre varias opciones

El componente `Radio` en Gradio permite a los usuarios elegir una sola opción de entre varias presentadas, usando botones de selección exclusivos.

==== Características principales
- Permite seleccionar solo una opción de un grupo.
- Devuelve el valor seleccionado como string.
- Puede establecer un valor por defecto y personalizar etiquetas.
- Útil para preguntas cerradas, selección de modos, filtros exclusivos, etc.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_opcion(opcion):
    return f"Has elegido: {opcion}"

demo = gr.Interface(
    fn=mostrar_opcion,
    inputs=gr.Radio(
        choices=["Rojo", "Verde", "Azul"],
        label="Elige un color"
    ),
    outputs=gr.Textbox(label="Selección")
)

demo.launch()
----

==== Ejemplo avanzado: Radio con valor por defecto y lógica condicional

[source,python]
----
import gradio as gr

def saludo(idioma):
    saludos = {
        "Español": "¡Hola!",
        "Inglés": "Hello!",
        "Francés": "Bonjour!"
    }
    return saludos.get(idioma, "¡Hola!")

demo = gr.Interface(
    fn=saludo,
    inputs=gr.Radio(
        choices=["Español", "Inglés", "Francés"],
        label="Selecciona un idioma",
        value="Español"  # Seleccionado por defecto
    ),
    outputs=gr.Textbox(label="Saludo")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                   | Valor por defecto 
|-------------|-----------------------------------------------|-------------------
| `choices`   | Lista de opciones a mostrar                   | Obligatorio       
| `label`     | Etiqueta mostrada sobre el grupo              | `None`            
| `value`     | Opción seleccionada por defecto               | Primera opción    
| `interactive` | Permite o no la interacción del usuario     | `True`            
|===

==== Casos de uso
- Selección de una sola preferencia o modo.
- Preguntas cerradas en encuestas o formularios.
- Filtros exclusivos en dashboards.
- Configuración de parámetros únicos.

=== Dropdown: Menú desplegable de opciones

El componente `Dropdown` en Gradio permite a los usuarios seleccionar una o varias opciones de una lista desplegable. Es ideal para elegir entre alternativas predefinidas de manera compacta y elegante.

==== Características principales
- Permite selección única o múltiple (`multiselect=True`).
- Soporta opciones de tipo string, número o tuplas (nombre, valor).
- Puede establecer un valor por defecto y personalizar etiquetas.
- Permite filtrar opciones escribiendo en el campo si `filterable=True`.
- Puede permitir valores personalizados (`allow_custom_value=True`).
- Admite actualización dinámica de opciones en aplicaciones interactivas.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_animal(animal):
    return f"Has elegido: {animal}"

demo = gr.Interface(
    fn=mostrar_animal,
    inputs=gr.Dropdown(
        choices=["Gato", "Perro", "Pájaro"],
        label="Selecciona un animal",
        value="Perro"
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Selección múltiple y actualización dinámica

[source,python]
----
import gradio as gr

# Opciones dinámicas dependientes de la selección principal
categorias = {
    "Frutas": ["Manzana", "Banana", "Naranja"],
    "Verduras": ["Lechuga", "Tomate", "Zanahoria"]
}

def actualizar_opciones(categoria):
    return gr.Dropdown(choices=categorias[categoria], multiselect=True, label="Elige opciones")

with gr.Blocks() as app:
    cat = gr.Dropdown(choices=list(categorias.keys()), label="Categoría")
    subcat = gr.Dropdown(choices=[], multiselect=True, label="Opciones")

    cat.select(fn=actualizar_opciones, inputs=cat, outputs=subcat)

    app.launch()
----

==== Parámetros principales

|===
| Parámetro           | Descripción                                                     | Valor por defecto 
| `choices`           | Lista de opciones (str, int, float o tuplas (nombre, valor))    | Obligatorio       
| `label`             | Etiqueta mostrada sobre el menú                                 | `None`            
| `value`             | Opción u opciones seleccionadas por defecto                     | Primera opción    
| `multiselect`       | Permite selección múltiple                                      | `False`           
| `allow_custom_value`| Permite al usuario añadir su propio valor                       | `False`           
| `filterable`        | Permite filtrar opciones escribiendo                            | `False`           
| `interactive`       | Permite o no la interacción del usuario                         | `True`            
|===

==== Casos de uso
- Selección de categorías, países, idiomas, productos, etc.
- Filtros en dashboards o formularios.
- Configuración de parámetros en modelos o aplicaciones.
- Menús dependientes y dinámicos en interfaces complejas.


=== Image: Subida o captura de imágenes

El componente `Image` en Gradio permite a los usuarios subir una imagen desde su dispositivo, tomar una foto con la cámara (si está habilitado) o visualizar imágenes generadas/procesadas por la aplicación.

==== Características principales
- Permite subir imágenes en formatos comunes (PNG, JPG, JPEG, GIF, etc.).
- Puede habilitar la captura directa desde la cámara (`source="webcam"`).
- Soporta entrada y salida de imágenes (input/output).
- Permite recortar, redimensionar o convertir imágenes a escala de grises.
- Devuelve la imagen como un array NumPy, archivo, URL o base64, según la configuración.
- Puede configurarse para aceptar imágenes de una sola banda (escala de grises) o multibanda (color).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def invertir_colores(imagen):
    import numpy as np
    return 255 - imagen  # Invierte los colores de la imagen

demo = gr.Interface(
    fn=invertir_colores,
    inputs=gr.Image(label="Sube una imagen", type="numpy"),
    outputs=gr.Image(label="Imagen invertida")
)

demo.launch()
----

==== Ejemplo avanzado: Captura desde cámara y recorte

[source,python]
----
import gradio as gr

def analizar(imagen):
    # Aquí podrías aplicar un modelo de visión
    return imagen

demo = gr.Interface(
    fn=analizar,
    inputs=gr.Image(
        label="Captura o sube una imagen",
        source="webcam",       # Permite usar la cámara
        tool="editor",         # Permite recortar/editar
        type="pil",            # Devuelve un objeto PIL.Image
        shape=(224, 224)       # Redimensiona la imagen
    ),
    outputs=gr.Image(label="Resultado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                              | Valor por defecto 
| `label`     | Etiqueta mostrada sobre el componente                    | `None`            
| `source`    | Origen: `"upload"`, `"webcam"` o ambos                   | `"upload"`        
| `type`      | Formato devuelto: `"numpy"`, `"pil"`, `"file"`, `"filepath"` | `"numpy"`     
| `tool`      | Herramienta de edición: `None`, `"editor"`, `"select"`   | `None`            
| `shape`     | Redimensiona la imagen a (ancho, alto)                   | `None`            
| `image_mode`| `"RGB"`, `"L"` (escala de grises), etc.                  | `"RGB"`           
| `interactive` | Permite o no la interacción del usuario                | `True`            
|===

==== Casos de uso
- Clasificación, segmentación o detección de imágenes con modelos de IA.
- Edición y recorte de imágenes antes de procesarlas.
- Visualización de resultados de modelos generativos (GANs, Stable Diffusion).
- Aplicaciones de arte, medicina, seguridad, etc.


=== Audio: Subida o grabación de audio

El componente `Audio` en Gradio permite a los usuarios subir archivos de audio desde su dispositivo, grabar audio directamente desde el navegador o reproducir audio generado/procesado por la aplicación.

==== Características principales
- Permite subir archivos de audio en formatos comunes (WAV, MP3, FLAC, etc.).
- Puede habilitar la grabación directa desde el micrófono (`source="microphone"`).
- Soporta tanto entrada como salida de audio (input/output).
- Devuelve el audio como archivo, ruta, numpy array o tupla (sample_rate, data).
- Permite reproducir el audio en la interfaz de usuario.
- Puede configurarse para aceptar audios mono o estéreo, y establecer duración máxima.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def invertir_audio(audio):
    sr, datos = audio
    return (sr, datos[::-1])  # Invierte el audio

demo = gr.Interface(
    fn=invertir_audio,
    inputs=gr.Audio(label="Sube o graba un audio", type="numpy"),
    outputs=gr.Audio(label="Audio invertido", type="numpy")
)

demo.launch()
----

==== Ejemplo avanzado: Grabación, reproducción y duración máxima

[source,python]
----
import gradio as gr

def analizar_audio(audio):
    sr, datos = audio
    duracion = len(datos) / sr
    return f"Duración del audio: {duracion:.2f} segundos"

demo = gr.Interface(
    fn=analizar_audio,
    inputs=gr.Audio(
        label="Graba o sube tu audio",
        source="microphone",    # Permite grabar con el micro
        type="numpy",
        min_length=1,
        max_length=10           # Máximo 10 segundos
    ),
    outputs=gr.Textbox(label="Análisis")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                               | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente                     | `None`            
| `source`      | Origen: `"upload"`, `"microphone"` o ambos                | `"upload"`        
| `type`        | Formato devuelto: `"numpy"`, `"filepath"`, `"file"`       | `"numpy"`         
| `min_length`  | Duración mínima del audio en segundos                     | `None`            
| `max_length`  | Duración máxima del audio en segundos                     | `None`            
| `interactive` | Permite o no la interacción del usuario                   | `True`            
|===

==== Casos de uso
- Reconocimiento y transcripción de voz.
- Clasificación y análisis de audio.
- Procesamiento de señales y efectos de sonido.
- Aplicaciones de música, accesibilidad, asistentes virtuales, etc.


=== Video: Subida o grabación de video

El componente `Video` en Gradio permite a los usuarios subir archivos de video desde su dispositivo, grabar video directamente desde el navegador (si está habilitado), o visualizar videos generados/procesados por la aplicación.

==== Características principales
- Permite subir videos en formatos comunes (MP4, MOV, WEBM, AVI, etc.).
- Puede habilitar la grabación directa desde la cámara (`source="webcam"`).
- Soporta tanto entrada como salida de video (input/output).
- Devuelve el video como archivo, ruta o numpy array (según configuración).
- Permite reproducir el video en la interfaz de usuario.
- Puede establecer duración máxima y mínima.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def extraer_duracion(video):
    import cv2
    if isinstance(video, str):
        cap = cv2.VideoCapture(video)
    else:
        return "Formato no soportado"
    frames = cap.get(cv2.CAP_PROP_FRAME_COUNT)
    fps = cap.get(cv2.CAP_PROP_FPS)
    duracion = frames / fps if fps else 0
    cap.release()
    return f"Duración del video: {duracion:.2f} segundos"

demo = gr.Interface(
    fn=extraer_duracion,
    inputs=gr.Video(label="Sube o graba un video", type="filepath"),
    outputs=gr.Textbox(label="Duración")
)

demo.launch()
----

==== Ejemplo avanzado: Grabación desde webcam y procesamiento

[source,python]
----
import gradio as gr

def mostrar_video(video):
    # Aquí podrías aplicar análisis de frames, detección, etc.
    return video

demo = gr.Interface(
    fn=mostrar_video,
    inputs=gr.Video(
        label="Captura o sube un video",
        source="webcam",         # Permite grabar desde la cámara
        type="filepath",
        max_length=15            # Máximo 15 segundos
    ),
    outputs=gr.Video(label="Vista previa")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                               | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente                     | `None`            
| `source`      | Origen: `"upload"`, `"webcam"` o ambos                    | `"upload"`        
| `type`        | Formato devuelto: `"filepath"`, `"numpy"`, `"file"`       | `"filepath"`      
| `min_length`  | Duración mínima del video en segundos                     | `None`            
| `max_length`  | Duración máxima del video en segundos                     | `None`            
| `interactive` | Permite o no la interacción del usuario                   | `True`            
|===

==== Casos de uso
- Análisis y procesamiento de video (detección de objetos, extracción de frames, etc.).
- Aplicaciones de vigilancia, entretenimiento, educación o medicina.
- Visualización de resultados de modelos de IA sobre secuencias de video.
- Grabación de testimonios, presentaciones, o experimentos interactivos.


=== File: Subida de archivos

El componente `File` en Gradio permite a los usuarios subir uno o varios archivos de cualquier tipo (texto, imagen, audio, video, PDF, CSV, etc.) desde su dispositivo para ser procesados por la aplicación.

==== Características principales
- Acepta cualquier tipo de archivo, configurable por extensión o tipo MIME.
- Permite la subida de uno o varios archivos (`file_count="single"` o `"multiple"`).
- Devuelve la ruta, el archivo o el contenido del archivo según la configuración.
- Puede usarse como entrada o salida en una interfaz Gradio.
- Útil para procesamiento de documentos, análisis de datos, carga de modelos, etc.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def leer_archivo(archivo):
    if archivo is None:
        return "No se ha subido ningún archivo."
    with open(archivo.name, "r", encoding="utf-8") as f:
        contenido = f.read(200)
    return f"Primeros 200 caracteres:\n{contenido}"

demo = gr.Interface(
    fn=leer_archivo,
    inputs=gr.File(label="Sube un archivo de texto", file_types=[".txt"]),
    outputs=gr.Textbox(label="Vista previa")
)

demo.launch()
----

==== Ejemplo avanzado: Subida múltiple y filtrado por tipo

[source,python]
----
import gradio as gr

def contar_archivos(archivos):
    if archivos is None or len(archivos) == 0:
        return "No se han subido archivos."
    return f"Archivos subidos: {len(archivos)}"

demo = gr.Interface(
    fn=contar_archivos,
    inputs=gr.File(
        label="Sube tus imágenes o PDFs",
        file_types=["image", ".pdf"],
        file_count="multiple"
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                              | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente                    | `None`            
| `file_types`  | Tipos de archivo permitidos (extensión o MIME)           | `None` (todos)    
| `file_count`  | `"single"` (uno) o `"multiple"` (varios)                 | `"single"`        
| `type`        | Formato devuelto: `"file"` (objeto), `"filepath"`        | `"file"`          
| `interactive` | Permite o no la interacción del usuario                  | `True`            
|===

==== Casos de uso
- Procesamiento de documentos (PDF, Word, TXT).
- Análisis de datos (CSV, Excel).
- Subida de imágenes, modelos, audio, etc.
- Carga de archivos para procesamiento por IA o scripts personalizados.


=== Dataframe: Entrada de tablas de datos

El componente `Dataframe` en Gradio permite a los usuarios cargar, editar y visualizar tablas de datos de manera interactiva, ideal para aplicaciones de análisis, visualización y manipulación de datos tabulares.

==== Características principales
- Permite cargar datos desde archivos (CSV, Excel) o introducirlos manualmente.
- Soporta edición directa de celdas, filas y columnas.
- Puede usarse como entrada (input) o salida (output) en una interfaz Gradio.
- Devuelve y acepta datos como listas de listas, pandas.DataFrame o numpy arrays.
- Permite configurar columnas, tipos de datos, valores por defecto y tamaño de la tabla.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import pandas as pd

def suma_columna(df):
    if isinstance(df, list):
        df = pd.DataFrame(df[1:], columns=df[0])
    return f"Suma de la columna A: {df['A'].sum()}"

demo = gr.Interface(
    fn=suma_columna,
    inputs=gr.Dataframe(
        headers=["A", "B", "C"],
        value=[[1, 2, 3], [4, 5, 6]],
        label="Introduce tu tabla"
    ),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Edición y visualización de resultados

[source,python]
----
import gradio as gr
import pandas as pd

def duplicar_tabla(df):
    if isinstance(df, list):
        df = pd.DataFrame(df[1:], columns=df[0])
    return df * 2

demo = gr.Interface(
    fn=duplicar_tabla,
    inputs=gr.Dataframe(
        headers=["X", "Y"],
        value=[[10, 20], [30, 40]],
        label="Tabla de entrada"
    ),
    outputs=gr.Dataframe(label="Tabla duplicada")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                        | Valor por defecto
| `label`       | Etiqueta mostrada sobre el componente              | `None`           
| `headers`     | Nombres de las columnas                            | `None`           
| `value`       | Valores iniciales de la tabla                      | `None`           
| `datatype`    | Tipos de datos por columna                         | `None`           
| `row_count`   | Número de filas (int o tuple para min/max)         | `None`           
| `col_count`   | Número de columnas (int o tuple para min/max)      | `None`           
| `interactive` | Permite o no la edición del usuario                | `True`           
|===

==== Casos de uso
- Carga, edición y análisis de datos tabulares.
- Visualización de resultados de modelos de ML.
- Dashboards y aplicaciones de ciencia de datos.
- Entrada de parámetros en forma de tabla para simulaciones.



=== ColorPicker: Selector de color

El componente `ColorPicker` en Gradio permite a los usuarios seleccionar un color mediante una interfaz visual, devolviendo el valor en formato hexadecimal (por ejemplo, `#FF5733`). Es útil para aplicaciones de diseño, personalización de gráficos, edición de imágenes y cualquier caso donde el usuario deba elegir un color. Permite seleccionar cualquier color mediante un selector visual.
- Devuelve el color como string hexadecimal (`#RRGGBB`).
- Puede usarse como entrada o salida en una interfaz Gradio.
- Admite valor por defecto, etiqueta personalizada y descripción adicional.
- Soporta eventos para reaccionar a cambios, enfoque, desenfoque, etc. solo visualización.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_color(color):
    return f"Color seleccionado: {color}"

demo = gr.Interface(
    fn=mostrar_color,
    inputs=gr.ColorPicker(label="Elige un color", value="#00FF00"),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Cambiar el color de un icono

[source,python]
----
import gradio as gr
import numpy as np
from PIL import Image, ImageColor

def cambiar_color(icono, color):
    img = icono.convert("LA").convert("RGBA")
    image_np = np.array(icono)
    _, _, _, alpha = image_np.T
    mask = alpha > 0
    image_np[..., :-1][mask.T] = ImageColor.getcolor(color, "RGB")
    return Image.fromarray(image_np)

demo = gr.Interface(
    fn=cambiar_color,
    inputs=[
        gr.Image(label="Icono", type="pil", image_mode="RGBA"),
        gr.ColorPicker(label="Color")
    ],
    outputs=gr.Image(label="Icono coloreado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el selector                 | `None`            
| `value`       | Color inicial en hexadecimal                        | `None` (`#000000`)
| `info`        | Descripción adicional bajo la etiqueta              | `None`            
| `interactive` | Permite o no la edición del color                   | `True`            
| `min_width`   | Ancho mínimo en píxeles                             | `160`             
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Personalización de gráficos, temas o interfaces.
- Selección de colores para edición de imágenes o iconos.
- Aplicaciones de arte digital o diseño web.
- Parámetros de visualización en dashboards.

=== Date: Selector de fecha

El componente `Date` en Gradio permite a los usuarios seleccionar una fecha específica mediante un calendario interactivo. Es ideal para aplicaciones que requieren entrada de fechas, como reservas, agendas, filtros temporales, etc.

==== Características principales
- Permite seleccionar una fecha desde un calendario visual.
- Devuelve la fecha en formato string ISO (`YYYY-MM-DD`).
- Puede establecer un valor por defecto (fecha inicial).
- Admite etiquetas y descripciones personalizadas.
- Puede usarse como entrada o salida en una interfaz Gradio.
- Soporta validación y lógica basada en fechas seleccionadas.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_fecha(fecha):
    return f"Fecha seleccionada: {fecha}"

demo = gr.Interface(
    fn=mostrar_fecha,
    inputs=gr.Date(label="Elige una fecha", value="2025-06-04"),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Diferencia de días entre dos fechas

[source,python]
----
import gradio as gr
from datetime import datetime

def diferencia_fechas(fecha1, fecha2):
    d1 = datetime.strptime(fecha1, "%Y-%m-%d")
    d2 = datetime.strptime(fecha2, "%Y-%m-%d")
    dias = abs((d2 - d1).days)
    return f"Diferencia: {dias} días"

demo = gr.Interface(
    fn=diferencia_fechas,
    inputs=[
        gr.Date(label="Fecha inicial"),
        gr.Date(label="Fecha final")
    ],
    outputs=gr.Textbox(label="Diferencia")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                        | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el selector                | `None`            
| `value`       | Fecha inicial (`YYYY-MM-DD`)                       | `None`            
| `info`        | Descripción adicional bajo la etiqueta             | `None`            
| `interactive` | Permite o no la selección por el usuario           | `True`            
| `min_width`   | Ancho mínimo en píxeles                            | `160`             
| `container`   | Si se muestra en un contenedor con padding extra   | `True`            
|===

==== Casos de uso
- Selección de fechas para reservas, citas o eventos.
- Filtros temporales en dashboards o formularios.
- Entrada de fechas para cálculos, vencimientos o planificación.
- Aplicaciones de seguimiento y gestión de tareas.


=== Time: Selector de hora

El componente `Time` en Gradio permite a los usuarios seleccionar una hora específica mediante un selector visual, ideal para aplicaciones que requieren entrada de horas, como reservas, agendas, alarmas, y programación de eventos.

==== Características principales
- Permite seleccionar una hora y minutos (formato 24h o 12h según configuración regional).
- Devuelve la hora en formato string (`"HH:MM"`).
- Puede establecer un valor por defecto (hora inicial).
- Soporta etiquetas y descripciones personalizadas.
- Puede usarse como entrada o salida en una interfaz Gradio.
- Admite lógica y validación basada en la hora seleccionada.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_hora(hora):
    return f"Hora seleccionada: {hora}"

demo = gr.Interface(
    fn=mostrar_hora,
    inputs=gr.Time(label="Elige una hora", value="14:30"),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Calcular diferencia de tiempo

[source,python]
----
import gradio as gr
from datetime import datetime

def diferencia_horas(hora1, hora2):
    t1 = datetime.strptime(hora1, "%H:%M")
    t2 = datetime.strptime(hora2, "%H:%M")
    minutos = abs(int((t2 - t1).total_seconds() // 60))
    return f"Diferencia: {minutos} minutos"

demo = gr.Interface(
    fn=diferencia_horas,
    inputs=[
        gr.Time(label="Hora inicial"),
        gr.Time(label="Hora final")
    ],
    outputs=gr.Textbox(label="Diferencia")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                        | Valor por defecto
| `label`       | Etiqueta mostrada sobre el selector                | `None`           
| `value`       | Hora inicial (`"HH:MM"`)                           | `None`           
| `info`        | Descripción adicional bajo la etiqueta             | `None`           
| `interactive` | Permite o no la selección por el usuario           | `True`           
| `min_width`   | Ancho mínimo en píxeles                            | `160`            
| `container`   | Si se muestra en un contenedor con padding extra   | `True`           
|===

==== Casos de uso
- Selección de horas para reservas, citas, alarmas o recordatorios.
- Entrada de horas para cálculos de duración o planificación.
- Formularios de eventos, agendas y sistemas de turnos.


=== Code: Entrada de código fuente

El componente `Code` en Gradio permite a los usuarios introducir, editar y visualizar fragmentos de código fuente en diversos lenguajes de programación, con resaltado de sintaxis y formato adecuado. Es ideal para aplicaciones de enseñanza, revisión, ejecución o explicación de código.

==== Características principales
- Permite la entrada y edición de código fuente en múltiples lenguajes (Python, JavaScript, HTML, etc.).
- Soporta resaltado de sintaxis automático según el lenguaje seleccionado.
- Puede usarse como entrada o salida en una interfaz Gradio.
- Permite establecer un valor por defecto, etiquetas y descripciones.
- Admite selección de lenguaje y configuración de solo lectura (`interactive=False`).
- Devuelve el código como string.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def contar_lineas(codigo):
    return f"Número de líneas: {len(codigo.splitlines())}"

demo = gr.Interface(
    fn=contar_lineas,
    inputs=gr.Code(label="Introduce tu código", language="python"),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar código de salida con resaltado

[source,python]
----
import gradio as gr

def formatear_codigo(codigo):
    # Ejemplo simple: añadir comentario al inicio
    return "# Código procesado\n" + codigo

demo = gr.Interface(
    fn=formatear_codigo,
    inputs=gr.Code(label="Código de entrada", language="python"),
    outputs=gr.Code(label="Código de salida", language="python")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el campo                    | `None`           
| `language`    | Lenguaje para el resaltado de sintaxis              | `"python"`       
| `value`       | Código inicial                                      | `""`             
| `interactive` | Permite o no la edición del código                  | `True`           
| `info`        | Descripción adicional bajo la etiqueta              | `None`           
| `lines`       | Número de líneas visibles                           | `5`              
| `min_width`   | Ancho mínimo en píxeles                             | `160`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`           
|===

==== Casos de uso
- Entrada y edición de código para ejecución, análisis o explicación.
- Visualización de resultados de modelos de IA que generan código.
- Plataformas educativas, notebooks interactivos y revisores de código.
- Formularios de feedback o envío de snippets.


=== JSON: Entrada de datos en formato JSON

El componente `JSON` en Gradio permite a los usuarios introducir, editar y visualizar datos en formato JSON de manera estructurada y validada. Es ideal para aplicaciones que procesan, generan o muestran información estructurada, como APIs, configuraciones, resultados de modelos, etc.

==== Características principales
- Permite la entrada y edición de datos en formato JSON.
- Valida automáticamente la sintaxis del JSON.
- Puede usarse como entrada (input) o salida (output) en una interfaz Gradio.
- Soporta visualización jerárquica y plegado de nodos.
- Permite establecer un valor por defecto, etiquetas y descripciones.
- Devuelve y acepta datos como diccionarios de Python (`dict`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def contar_claves(json_data):
    if json_data is None:
        return "No se ha introducido JSON."
    return f"Número de claves: {len(json_data)}"

demo = gr.Interface(
    fn=contar_claves,
    inputs=gr.JSON(label="Introduce JSON"),
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Visualizar y modificar configuración

[source,python]
----
import gradio as gr

def actualizar_config(json_data):
    if json_data is None:
        return {"error": "No se ha introducido JSON."}
    json_data["procesado"] = True
    return json_data

demo = gr.Interface(
    fn=actualizar_config,
    inputs=gr.JSON(label="Configuración de entrada", value={"param": 42, "activo": False}),
    outputs=gr.JSON(label="Configuración actualizada")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el campo                    | `None`            
| `value`       | JSON inicial (dict o string válido)                 | `None`            
| `interactive` | Permite o no la edición del JSON                    | `True`            
| `info`        | Descripción adicional bajo la etiqueta              | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Entrada de parámetros de configuración complejos.
- Visualización y edición de respuestas de APIs.
- Procesamiento de datos estructurados por modelos de IA.
- Formularios avanzados y dashboards de administración.


== 2. Componentes de Salida (Output Components)
=== Label: Mostrar etiquetas o resultados de clasificación

El componente `Label` en Gradio se utiliza para mostrar de manera clara y visual los resultados de clasificación, etiquetas predichas o probabilidades asociadas a cada clase. Es ideal para aplicaciones de machine learning que devuelven categorías, como clasificadores de imágenes, texto o audio.

==== Características principales
- Muestra una etiqueta principal y, opcionalmente, probabilidades para varias clases.
- Puede mostrar resultados como texto simple o como un diccionario `{clase: probabilidad}`.
- Visualiza la clase predicha resaltada y las probabilidades en forma de barras.
- Es solo de salida (output), no editable por el usuario.
- Permite personalizar la etiqueta, el número de clases mostradas y el formato de visualización.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def clasificar_numero(x):
    if x % 2 == 0:
        return "Par"
    else:
        return "Impar"

demo = gr.Interface(
    fn=clasificar_numero,
    inputs=gr.Number(label="Introduce un número"),
    outputs=gr.Label(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar probabilidades de clasificación

[source,python]
----
import gradio as gr

def clasificador(texto):
    # Simulación de probabilidades
    return {"Positivo": 0.7, "Negativo": 0.2, "Neutro": 0.1}

demo = gr.Interface(
    fn=clasificador,
    inputs=gr.Textbox(label="Texto a clasificar"),
    outputs=gr.Label(label="Sentimiento")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                        | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el resultado               | `None`            
| `num_top_classes` | Número de clases a mostrar (si hay probabilidades) | `None` (todas)
| `show_legend` | Muestra leyenda con los nombres de las clases      | `True`            
|===

==== Casos de uso
- Visualización de resultados de clasificadores de imágenes, texto o audio.
- Mostrar probabilidades de pertenencia a distintas clases.
- Aplicaciones de análisis de sentimiento, detección de objetos, etc.


=== Text: Mostrar texto simple

El componente `Text` en Gradio se utiliza para mostrar texto plano o resultados generados por una función, de manera clara y sin formato adicional. Es ideal para respuestas de modelos de lenguaje, mensajes, instrucciones, resúmenes o cualquier salida textual.

==== Características principales
- Muestra texto simple, sin formato enriquecido.
- Puede usarse como salida (output) o, en algunos casos, como entrada (input).
- Permite personalizar la etiqueta y descripción.
- Admite textos cortos o largos, incluyendo saltos de línea.
- Es solo visualización; no editable por el usuario.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def responder(nombre):
    return f"¡Hola, {nombre}!"

demo = gr.Interface(
    fn=responder,
    inputs=gr.Textbox(label="Nombre"),
    outputs=gr.Text(label="Saludo")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar resultados de análisis

[source,python]
----
import gradio as gr

def resumen(texto):
    palabras = len(texto.split())
    return f"El texto tiene {palabras} palabras."

demo = gr.Interface(
    fn=resumen,
    inputs=gr.Textbox(label="Texto de entrada"),
    outputs=gr.Text(label="Resumen")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el texto                    | `None`            
| `info`        | Descripción adicional bajo la etiqueta              | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Mostrar respuestas de chatbots o asistentes virtuales.
- Visualizar mensajes, resultados o resúmenes.
- Instrucciones, advertencias o información al usuario.
- Salidas de modelos de lenguaje o análisis de texto.


=== HTML: Mostrar contenido HTML

El componente `HTML` en Gradio permite mostrar contenido HTML personalizado dentro de la interfaz, facilitando la inclusión de texto enriquecido, estilos, imágenes, enlaces y otros elementos web. Es útil para presentar resultados con formato avanzado o interfaces más dinámicas.

==== Características principales
- Muestra contenido HTML arbitrario interpretado por el navegador.
- Permite incluir estilos CSS, imágenes, tablas, enlaces, listas, etc.
- Solo es un componente de salida (output), no editable por el usuario.
- Facilita la personalización visual sin necesidad de modificar el código base.
- Puede usarse para mostrar resultados enriquecidos, reportes o dashboards.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def mostrar_html():
    contenido = """
    <h2 style='color:blue;'>Título en azul</h2>
    <p>Este es un <b>texto</b> con <i>formato</i> y <a href='https://gradio.app'>enlace</a>.</p>
    """
    return contenido

demo = gr.Interface(
    fn=mostrar_html,
    inputs=[],
    outputs=gr.HTML(label="Contenido HTML")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar tabla HTML con estilos

[source,python]
----
import gradio as gr

def tabla_html():
    tabla = """
    <table border="1" style="border-collapse: collapse; width: 50%;">
      <tr><th>Nombre</th><th>Edad</th><th>Ciudad</th></tr>
      <tr><td>Ana</td><td>28</td><td>Madrid</td></tr>
      <tr><td>Carlos</td><td>35</td><td>Barcelona</td></tr>
      <tr><td>Lucía</td><td>22</td><td>Valencia</td></tr>
    </table>
    """
    return tabla

demo = gr.Interface(
    fn=tabla_html,
    inputs=[],
    outputs=gr.HTML(label="Tabla con estilo")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente               | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Mostrar resultados con formato enriquecido.
- Presentar reportes, tablas, gráficos embebidos.
- Interfaces personalizadas con HTML y CSS.
- Visualización de contenido dinámico generado por modelos.


=== Image: Mostrar imágenes procesadas o generadas

El componente `Image` en Gradio también se utiliza como salida para mostrar imágenes procesadas, generadas o transformadas por la aplicación. Es fundamental para tareas de visión por computador, generación de imágenes, filtros, segmentación, etc.

==== Características principales
- Muestra imágenes generadas, transformadas o procesadas por la función de la app.
- Soporta múltiples formatos de imagen (PNG, JPG, GIF, etc.).
- Puede recibir imágenes como arrays NumPy, objetos PIL, rutas de archivo o URLs.
- Permite establecer etiquetas, descripciones y tamaño de visualización.
- Puede mostrar imágenes en color, escala de grises, RGBA, etc.
- Solo de salida (output) cuando se usa para mostrar resultados.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import numpy as np

def generar_imagen():
    # Imagen aleatoria de 100x100 píxeles
    img = np.random.randint(0, 255, (100, 100, 3), dtype=np.uint8)
    return img

demo = gr.Interface(
    fn=generar_imagen,
    inputs=[],
    outputs=gr.Image(label="Imagen generada")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar imagen procesada

[source,python]
----
import gradio as gr
from PIL import Image, ImageOps

def invertir_colores(img):
    if img is None:
        return None
    return ImageOps.invert(img.convert("RGB"))

demo = gr.Interface(
    fn=invertir_colores,
    inputs=gr.Image(label="Sube una imagen", type="pil"),
    outputs=gr.Image(label="Imagen invertida")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre la imagen                   | `None`            
| `type`        | Formato de entrada/salida: `"numpy"`, `"pil"`, `"file"`, `"filepath"` | `"numpy"` 
| `image_mode`  | `"RGB"`, `"L"` (escala de grises), `"RGBA"`, etc.   | `"RGB"`           
| `shape`       | Redimensiona la imagen a (ancho, alto)              | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de resultados de modelos de IA (clasificación, segmentación, generación).
- Mostrar imágenes generadas por GANs, Stable Diffusion, etc.
- Aplicaciones de edición, filtros y procesamiento de imágenes.
- Dashboards y reportes visuales.


=== Audio: Reproducir audio generado o procesado

El componente `Audio` en Gradio también se utiliza como salida para reproducir audio generado o procesado por la aplicación. Es fundamental para tareas de síntesis de voz, generación de música, procesamiento de señales, efectos de audio, etc.

==== Características principales
- Permite reproducir archivos de audio generados o transformados por la función de la app.
- Soporta múltiples formatos de audio (WAV, MP3, FLAC, etc.).
- Puede recibir audio como archivo, ruta, array NumPy o tupla (sample_rate, datos).
- Permite establecer etiquetas y descripciones personalizadas.
- Solo de salida (output) cuando se usa para mostrar resultados.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import numpy as np

def tono_simple():
    sr = 16000  # Sample rate
    t = np.linspace(0, 1, sr)
    audio = 0.5 * np.sin(2 * np.pi * 440 * t)
    return (sr, audio.astype(np.float32))

demo = gr.Interface(
    fn=tono_simple,
    inputs=[],
    outputs=gr.Audio(label="Audio generado", type="numpy")
)

demo.launch()
----

==== Ejemplo avanzado: Procesar audio de entrada y reproducir resultado

[source,python]
----
import gradio as gr
import numpy as np

def duplicar_volumen(audio):
    if audio is None:
        return None
    sr, datos = audio
    return (sr, datos * 2)

demo = gr.Interface(
    fn=duplicar_volumen,
    inputs=gr.Audio(label="Sube o graba un audio", type="numpy"),
    outputs=gr.Audio(label="Audio procesado", type="numpy")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente               | `None`            
| `type`        | Formato de entrada/salida: `"numpy"`, `"filepath"`, `"file"` | `"numpy"` 
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Reproducir resultados de modelos de síntesis de voz o música.
- Mostrar efectos de procesamiento de audio (filtros, normalización, etc.).
- Aplicaciones de accesibilidad, asistentes virtuales y arte sonoro.
- Dashboards de análisis y visualización de audio.


=== Video: Mostrar videos generados o procesados

El componente `Video` en Gradio también se utiliza como salida para mostrar videos generados, procesados o transformados por la aplicación. Es fundamental para tareas de visión por computador, síntesis de video, análisis de secuencias, etc.

==== Características principales
- Permite mostrar archivos de video generados o transformados por la función de la app.
- Soporta múltiples formatos de video (MP4, MOV, WEBM, AVI, etc.).
- Puede recibir videos como archivo, ruta (`filepath`) o array NumPy (frames).
- Permite establecer etiquetas y descripciones personalizadas.
- Solo de salida (output) cuando se usa para mostrar resultados.
- Permite previsualizar el video directamente en la interfaz.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import numpy as np

def generar_video():
    # Video de 30 frames, cada uno es una imagen aleatoria de 64x64
    frames = np.random.randint(0, 255, (30, 64, 64, 3), dtype=np.uint8)
    return frames  # Gradio lo interpreta como video

demo = gr.Interface(
    fn=generar_video,
    inputs=[],
    outputs=gr.Video(label="Video generado", type="numpy")
)

demo.launch()
----

==== Ejemplo avanzado: Procesar video de entrada y mostrar resultado

[source,python]
----
import gradio as gr
import cv2

def invertir_video(video_path):
    if video_path is None:
        return None
    cap = cv2.VideoCapture(video_path)
    frames = []
    while True:
        ret, frame = cap.read()
        if not ret:
            break
        frame_inv = cv2.bitwise_not(frame)
        frames.append(frame_inv)
    cap.release()
    import numpy as np
    return np.array(frames)

demo = gr.Interface(
    fn=invertir_video,
    inputs=gr.Video(label="Sube un video", type="filepath"),
    outputs=gr.Video(label="Video invertido", type="numpy")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente               | `None`            
| `type`        | Formato de entrada/salida: `"filepath"`, `"numpy"`, `"file"` | `"filepath"` 
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de resultados de modelos de IA sobre video (detección, segmentación, síntesis).
- Mostrar videos generados por modelos (GANs, difusión, etc.).
- Aplicaciones de análisis de movimiento, seguridad, medicina, etc.
- Dashboards y reportes visuales con video.


=== File: Descargar archivos generados

El componente `File` en Gradio también se utiliza como salida para permitir a los usuarios descargar archivos generados o procesados por la aplicación. Es fundamental para tareas donde el resultado es un archivo, como generación de documentos, imágenes, audio, modelos, reportes, etc.

==== Características principales
- Permite descargar uno o varios archivos generados por la función de la app.
- Soporta cualquier tipo de archivo: texto, imagen, audio, video, PDF, CSV, etc.
- Puede recibir archivos como rutas (`filepath`), objetos de archivo o listas de archivos.
- Permite establecer etiquetas y descripciones personalizadas.
- Solo de salida (output) cuando se usa para mostrar resultados.
- Admite descarga directa desde la interfaz de usuario.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def generar_txt():
    with open("salida.txt", "w", encoding="utf-8") as f:
        f.write("Este es un archivo generado por Gradio.")
    return "salida.txt"

demo = gr.Interface(
    fn=generar_txt,
    inputs=[],
    outputs=gr.File(label="Descarga tu archivo")
)

demo.launch()
----

==== Ejemplo avanzado: Generar y descargar múltiples archivos

[source,python]
----
import gradio as gr

def generar_archivos():
    archivos = []
    for i in range(3):
        nombre = f"reporte_{i}.txt"
        with open(nombre, "w", encoding="utf-8") as f:
            f.write(f"Reporte número {i}")
        archivos.append(nombre)
    return archivos

demo = gr.Interface(
    fn=generar_archivos,
    inputs=[],
    outputs=gr.File(label="Descarga tus archivos")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el componente               | `None`            
| `file_count`  | `"single"` (uno) o `"multiple"` (varios)            | `"single"`        
| `type`        | Formato de entrada/salida: `"file"` (objeto), `"filepath"` | `"file"`    
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Descarga de reportes, resultados o documentos generados.
- Exportación de imágenes, audio, modelos o datos procesados.
- Aplicaciones de conversión de archivos, resúmenes automáticos, etc.
- Dashboards de análisis y generación de archivos.


=== Plot: Mostrar gráficos o visualizaciones

El componente `Plot` en Gradio permite mostrar gráficos y visualizaciones generados por librerías populares de Python como Matplotlib, Plotly, Seaborn, Altair, Bokeh, entre otras. Es ideal para dashboards, análisis de datos, visualización de resultados y aplicaciones interactivas de ciencia de datos.

==== Características principales
- Muestra gráficos generados por diversas librerías de visualización.
- Puede recibir objetos de Matplotlib, Plotly, Seaborn, Altair, Bokeh, etc.
- Permite personalizar la etiqueta y el contenedor del gráfico.
- Solo de salida (output), no editable por el usuario.
- Admite gráficos estáticos e interactivos según la librería utilizada.

==== Ejemplo de uso básico con Matplotlib

[source,python]
----
import gradio as gr
import matplotlib.pyplot as plt
import numpy as np

def grafico_seno():
    x = np.linspace(0, 2 * np.pi, 100)
    y = np.sin(x)
    fig, ax = plt.subplots()
    ax.plot(x, y)
    ax.set_title("Función Seno")
    return fig

demo = gr.Interface(
    fn=grafico_seno,
    inputs=[],
    outputs=gr.Plot(label="Gráfico Seno")
)

demo.launch()
----

==== Ejemplo avanzado: Visualización interactiva con Plotly

[source,python]
----
import gradio as gr
import plotly.graph_objs as go
import numpy as np

def grafico_dispersion():
    x = np.random.randn(100)
    y = np.random.randn(100)
    fig = go.Figure(data=go.Scatter(x=x, y=y, mode='markers'))
    fig.update_layout(title="Gráfico de dispersión aleatorio")
    return fig

demo = gr.Interface(
    fn=grafico_dispersion,
    inputs=[],
    outputs=gr.Plot(label="Dispersión Plotly")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el gráfico                  | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de resultados de modelos de ML y estadísticas.
- Dashboards interactivos de análisis de datos.
- Presentación de gráficos científicos o financieros.
- Visualización de series temporales, distribuciones, correlaciones, etc.


=== Dataframe: Mostrar tablas de datos

El componente `Dataframe` en Gradio también se utiliza como salida para mostrar tablas de datos generadas o procesadas por la aplicación. Es fundamental para tareas de análisis, visualización y presentación de resultados tabulares.

==== Características principales
- Permite mostrar datos tabulares de manera clara y estructurada.
- Soporta entrada de datos como listas de listas, pandas.DataFrame o numpy arrays.
- Permite personalizar etiquetas, cabeceras y tamaño de la tabla.
- Solo de salida (output) cuando se usa para mostrar resultados.
- Admite tablas de cualquier tamaño y tipo de dato.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import pandas as pd

def generar_tabla():
    datos = {"Nombre": ["Ana", "Carlos", "Lucía"], "Edad": [28, 35, 22], "Ciudad": ["Madrid", "Barcelona", "Valencia"]}
    df = pd.DataFrame(datos)
    return df

demo = gr.Interface(
    fn=generar_tabla,
    inputs=[],
    outputs=gr.Dataframe(label="Tabla de resultados")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar tabla procesada

[source,python]
----
import gradio as gr
import pandas as pd

def filtrar_edad(df):
    # Filtra solo personas mayores de 25
    return df[df["Edad"] > 25]

demo = gr.Interface(
    fn=filtrar_edad,
    inputs=gr.Dataframe(
        headers=["Nombre", "Edad", "Ciudad"],
        value=[["Ana", 28, "Madrid"], ["Carlos", 35, "Barcelona"], ["Lucía", 22, "Valencia"]],
        label="Tabla de entrada"
    ),
    outputs=gr.Dataframe(label="Filtrado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre la tabla                    | `None`            
| `headers`     | Nombres de las columnas                             | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Presentación de resultados de análisis de datos.
- Visualización de predicciones o métricas de modelos.
- Dashboards y reportes tabulares.
- Comparación y filtrado de datos en aplicaciones interactivas.


=== JSON: Mostrar datos en formato JSON

El componente `JSON` en Gradio también se utiliza como salida para mostrar datos estructurados en formato JSON generados o procesados por la aplicación. Es ideal para visualizar configuraciones, respuestas de APIs, resultados de modelos, logs y cualquier información jerárquica o estructurada.

==== Características principales
- Muestra datos en formato JSON de manera jerárquica y plegable.
- Permite visualizar diccionarios anidados, listas y estructuras complejas.
- Solo de salida (output) cuando se usa para mostrar resultados.
- Admite etiquetas y descripciones personalizadas.
- Permite copiar fácilmente el JSON mostrado.
- Facilita la depuración y presentación de datos estructurados.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def generar_json():
    return {"usuario": "ana", "edad": 28, "preferencias": {"color": "azul", "idioma": "es"}}

demo = gr.Interface(
    fn=generar_json,
    inputs=[],
    outputs=gr.JSON(label="Datos JSON")
)

demo.launch()
----

==== Ejemplo avanzado: Mostrar respuesta estructurada de un modelo

[source,python]
----
import gradio as gr

def analizar_texto(texto):
    return {
        "texto": texto,
        "longitud": len(texto),
        "palabras": texto.split(),
        "es_mayusculas": texto.isupper()
    }

demo = gr.Interface(
    fn=analizar_texto,
    inputs=gr.Textbox(label="Introduce un texto"),
    outputs=gr.JSON(label="Análisis estructurado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el JSON                     | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de configuraciones, respuestas de API o logs.
- Mostrar resultados estructurados de modelos de IA.
- Presentación de datos jerárquicos o anidados.
- Dashboards y herramientas de depuración.


=== Gallery: Mostrar colecciones de imágenes

El componente `Gallery` en Gradio permite mostrar una colección de imágenes en formato de galería, facilitando la visualización de múltiples resultados generados o procesados por la aplicación. Es ideal para modelos generativos, comparación de imágenes, selección visual y dashboards de visión por computador.

==== Características principales
- Muestra varias imágenes organizadas en una cuadrícula o carrusel.
- Permite visualizar imágenes con o sin títulos y descripciones.
- Soporta imágenes en formato NumPy, PIL, archivos o URLs.
- Solo de salida (output), no editable por el usuario.
- Permite personalizar el número de columnas, el tamaño de las imágenes y la disposición.
- Admite imágenes con metadatos (título, subtítulo, descripción).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import numpy as np

def generar_galeria():
    # Genera 4 imágenes aleatorias de 64x64
    imgs = [np.random.randint(0, 255, (64, 64, 3), dtype=np.uint8) for _ in range(4)]
    return imgs

demo = gr.Interface(
    fn=generar_galeria,
    inputs=[],
    outputs=gr.Gallery(label="Galería de imágenes")
)

demo.launch()
----

==== Ejemplo avanzado: Galería con títulos y descripciones

[source,python]
----
import gradio as gr
import numpy as np

def galeria_con_info():
    imgs = []
    for i in range(3):
        img = np.random.randint(0, 255, (64, 64, 3), dtype=np.uint8)
        imgs.append((img, f"Título {i+1}", f"Descripción de la imagen {i+1}"))
    return imgs

demo = gr.Interface(
    fn=galeria_con_info,
    inputs=[],
    outputs=gr.Gallery(label="Galería informativa")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre la galería                  | `None`            
| `columns`     | Número de columnas en la cuadrícula                  | `None` (auto)     
| `height`      | Altura de las imágenes en píxeles                   | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de resultados de modelos generativos (Stable Diffusion, GANs, etc.).
- Comparación de imágenes antes/después o entre variantes.
- Dashboards de visión por computador y selección visual.
- Presentación de portfolios, catálogos o galerías de arte.


=== HighlightedText: Texto con resaltado de entidades o resultados

El componente `HighlightedText` en Gradio permite mostrar texto con partes resaltadas, ideal para aplicaciones de procesamiento de lenguaje natural (PLN) como reconocimiento de entidades, análisis de sentimientos, búsqueda de palabras clave, clasificación de frases, etc.

==== Características principales
- Muestra un texto con palabras, frases o entidades resaltadas en diferentes colores.
- Permite añadir etiquetas a cada fragmento resaltado (por ejemplo, "PERSONA", "LUGAR", "ORGANIZACIÓN").
- Solo de salida (output), no editable por el usuario.
- Soporta visualización de múltiples entidades y tipos de resaltado en un mismo texto.
- Permite personalizar colores y estilos mediante CSS si se desea.

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def resaltar_entidades(texto):
    # Simulación de entidades: palabra, etiqueta
    return [("Madrid", "LUGAR"), " es la capital de ", ("España", "PAÍS")]

demo = gr.Interface(
    fn=resaltar_entidades,
    inputs=gr.Textbox(label="Texto de entrada"),
    outputs=gr.HighlightedText(label="Entidades reconocidas")
)

demo.launch()
----

==== Ejemplo avanzado: Resaltado múltiple y personalizado

[source,python]
----
import gradio as gr

def analizar_sentimientos(texto):
    # Simulación: palabras con sentimiento positivo o negativo
    return [("Me encanta", "positivo"), " la comida ", ("india", "neutro"), ", pero ", ("odio", "negativo"), " el picante."]

demo = gr.Interface(
    fn=analizar_sentimientos,
    inputs=gr.Textbox(label="Frase"),
    outputs=gr.HighlightedText(label="Análisis de sentimientos")
)

demo.launch()
----

==== Formato de entrada/salida

- El resultado debe ser una lista que combine strings simples y tuplas `(fragmento, etiqueta)`.
- Ejemplo: `[("Juan", "PERSONA"), " vive en ", ("Madrid", "LUGAR")]`

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada sobre el texto resaltado          | `None`            
| `container`   | Si se muestra en un contenedor con padding extra    | `True`            
|===

==== Casos de uso
- Visualización de entidades reconocidas en texto (NER).
- Resaltado de palabras clave, errores ortográficos o frases importantes.
- Análisis de sentimientos con fragmentos positivos/negativos.
- Explicación visual de resultados de modelos de PLN.



== 3. Componentes de Visualización y Layout
=== Row: Agrupar componentes horizontalmente

El componente `Row` en Gradio permite organizar varios componentes en una sola fila, es decir, alineados horizontalmente. Es fundamental para crear layouts personalizados y mejorar la experiencia de usuario en aplicaciones interactivas.

==== Características principales
- Permite agrupar cualquier tipo de componente (inputs, outputs, botones, etc.) en una sola línea.
- Facilita la creación de interfaces compactas y visualmente organizadas.
- Puede combinarse con otros layouts como `Column`, `Tabs`, `Accordion`, etc.
- Soporta anidamiento de filas y columnas para layouts complejos.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Row():
        gr.Textbox(label="Nombre")
        gr.Number(label="Edad")
        gr.Dropdown(choices=["España", "Francia", "Italia"], label="País")
    gr.Button("Enviar")

demo.launch()
----

==== Ejemplo avanzado: Fila de botones y entradas

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Row():
        gr.Button("Aceptar")
        gr.Button("Cancelar")
        gr.Textbox(label="Observaciones", lines=1)
    gr.Dataframe(label="Resultados")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `variant`     | Estilo visual de la fila                            | `"default"`       
| `equal_height`| Si todos los hijos tienen la misma altura           | `False`           
|===

==== Casos de uso
- Formularios compactos y alineados.
- Dashboards con controles y visualizaciones en una sola fila.
- Agrupación de botones o filtros horizontales.
- Layouts personalizados en aplicaciones complejas.


=== Column: Agrupar componentes verticalmente

El componente `Column` en Gradio permite organizar varios componentes en una sola columna, es decir, alineados verticalmente. Es fundamental para crear layouts estructurados y jerárquicos en aplicaciones interactivas.

==== Características principales
- Permite agrupar cualquier tipo de componente (inputs, outputs, botones, etc.) en una sola columna.
- Facilita la creación de interfaces limpias y jerárquicas.
- Puede combinarse con otros layouts como `Row`, `Tabs`, `Accordion`, etc.
- Soporta anidamiento de columnas y filas para layouts complejos.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Column():
        gr.Textbox(label="Nombre")
        gr.Number(label="Edad")
        gr.Dropdown(choices=["España", "Francia", "Italia"], label="País")
    gr.Button("Enviar")

demo.launch()
----

==== Ejemplo avanzado: Columnas anidadas y visualización

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Row():
        with gr.Column():
            gr.Textbox(label="Usuario")
            gr.Textbox(label="Correo")
        with gr.Column():
            gr.Dataframe(label="Datos")
            gr.Button("Actualizar")
    gr.Plot(label="Resultados")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `scale`       | Proporción de espacio vertical respecto a otros     | `None`            
| `min_width`   | Ancho mínimo en píxeles                             | `None`            
|===

==== Casos de uso
- Formularios y entradas agrupadas verticalmente.
- Dashboards con visualizaciones apiladas.
- Layouts jerárquicos y estructurados.
- Agrupación de controles y resultados en una sola columna.


=== Tabs: Separar la interfaz en pestañas

El componente `Tabs` en Gradio permite organizar la interfaz en varias pestañas, facilitando la navegación entre diferentes secciones, funcionalidades o flujos de trabajo dentro de una misma aplicación. Es ideal para aplicaciones complejas, dashboards y herramientas multifunción.

==== Características principales
- Permite separar la interfaz en varias pestañas, cada una con su propio contenido.
- Facilita la organización y navegación en aplicaciones con múltiples funcionalidades.
- Puede contener cualquier tipo de componente: entradas, salidas, visualizaciones, layouts, etc.
- Soporta pestañas anidadas y personalizadas.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Tabs():
        with gr.TabItem("Texto"):
            gr.Textbox(label="Introduce un texto")
            gr.Button("Procesar")
        with gr.TabItem("Imagen"):
            gr.Image(label="Sube una imagen")
            gr.Button("Analizar")
demo.launch()
----

==== Ejemplo avanzado: Pestañas con diferentes flujos de trabajo

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Tabs():
        with gr.TabItem("Clasificación"):
            gr.Textbox(label="Texto a clasificar")
            gr.Label(label="Resultado")
        with gr.TabItem("Generación"):
            gr.Textbox(label="Prompt")
            gr.Textbox(label="Texto generado")
        with gr.TabItem("Configuración"):
            gr.Checkbox(label="Modo avanzado")
            gr.Slider(minimum=0, maximum=1, step=0.1, label="Temperatura")
demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `selected`    | Índice de la pestaña seleccionada por defecto       | `0`               
|===

==== Casos de uso
- Dashboards con varias secciones (análisis, visualización, configuración, etc.).
- Aplicaciones multifunción (clasificación, generación, análisis).
- Formularios o flujos de trabajo separados por contexto.
- Interfaces limpias y organizadas para usuarios avanzados.


=== Accordion: Sección expandible/colapsable para agrupar componentes

El componente `Accordion` en Gradio permite agrupar uno o varios componentes dentro de una sección que puede expandirse o colapsarse al hacer clic en su encabezado. Es ideal para organizar interfaces complejas, ocultar opciones avanzadas o mostrar información adicional solo cuando el usuario lo desee
- Permite mostrar u ocultar contenido de forma interactiva.
- Puede contener cualquier tipo de componente: entradas, salidas, layouts, etc.
- Soporta múltiples acordeones en una misma interfaz.
- Se puede configurar para estar abierto o cerrado por defecto (`open=True/False`).
- Permite personalizar la etiqueta, el id, clases CSS y otros atributos de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Accordion("Opciones avanzadas", open=False):
        gr.Checkbox(label="Activar modo avanzado")
        gr.Slider(minimum=0, maximum=10, label="Parámetro extra")
    gr.Textbox(label="Entrada principal")
    gr.Button("Enviar")

demo.launch()
----

==== Ejemplo avanzado: Anidar acordeones y eventos

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Accordion("Configuración principal", open=True):
        gr.Textbox(label="Nombre de usuario")
        with gr.Accordion("Más opciones", open=False):
            gr.Checkbox(label="Notificaciones")
            gr.Dropdown(choices=["Básico", "Avanzado"], label="Nivel")
    gr.Button("Guardar")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `label`       | Etiqueta mostrada en el encabezado del acordeón     | Obligatorio       
| `open`        | Si el acordeón está abierto (`True`) o cerrado      | `True`            
| `elem_id`     | ID HTML opcional para CSS o JS                      | `None`            
| `elem_classes`| Clases CSS opcionales para personalización          | `None`            
| `render`      | Si se renderiza el acordeón en el contexto actual   | `True`            
|===

==== Casos de uso
- Ocultar opciones avanzadas en formularios.
- Mostrar resultados o logs solo cuando el usuario lo desee.
- Organizar interfaces largas y complejas en secciones plegables.
- Anidar acordeones para jerarquías de configuración.


=== Group: Agrupar componentes sin layout explícito

El componente `Group` en Gradio permite agrupar varios componentes juntos sin imponer un layout específico (ni horizontal ni vertical). Es útil para aplicar estilos, lógica o eventos a un conjunto de componentes, o para estructurar la interfaz de manera lógica sin modificar la disposición visual predeterminada.

==== Características principales
- Agrupa componentes para organizarlos lógicamente en el código.
- No impone alineación horizontal (`Row`) ni vertical (`Column`); respeta el flujo natural del layout.
- Permite aplicar atributos, identificadores (`elem_id`), clases CSS y lógica común al grupo.
- Soporta anidamiento y combinación con otros layouts (`Row`, `Column`, `Tabs`, etc.).
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Group():
        gr.Textbox(label="Nombre")
        gr.Number(label="Edad")
    gr.Button("Enviar")

demo.launch()
----

==== Ejemplo avanzado: Grupo con atributos personalizados

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Group(elem_id="grupo-personalizado", elem_classes=["grupo-estilo"]):
        gr.Textbox(label="Usuario")
        gr.Checkbox(label="Aceptar términos")
    gr.Button("Registrar")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `elem_id`     | ID HTML opcional para CSS o JS                      | `None`            
| `elem_classes`| Clases CSS opcionales para personalización          | `None`            
| `render`      | Si se renderiza el grupo en el contexto actual      | `True`            
|===

==== Casos de uso
- Agrupar campos relacionados en formularios.
- Aplicar estilos o lógica común a varios componentes.
- Estructurar la interfaz sin modificar el layout visual.
- Combinación con otros layouts para interfaces complejas.



=== Box: Contenedor para agrupar componentes

El componente `Box` en Gradio permite agrupar varios componentes dentro de un contenedor visual, añadiendo un fondo, borde o padding extra. Es útil para resaltar, separar o estructurar secciones de la interfaz, mejorando la experiencia visual y la organización de la aplicación.

==== Características principales
- Agrupa componentes dentro de un contenedor visual con fondo y/o borde.
- Añade padding y separación visual respecto a otros elementos.
- Puede combinarse con otros layouts (`Row`, `Column`, `Tabs`, etc.).
- Soporta atributos personalizados como `elem_id` y `elem_classes` para CSS.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Box():
        gr.Textbox(label="Nombre")
        gr.Number(label="Edad")
    gr.Button("Enviar")

demo.launch()
----

==== Ejemplo avanzado: Varias cajas y estilos personalizados

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Box(elem_id="box-usuario", elem_classes=["box-estilo"]):
        gr.Textbox(label="Usuario")
        gr.Checkbox(label="Suscribirse")
    with gr.Box():
        gr.Dataframe(label="Datos")
    gr.Button("Registrar")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `elem_id`     | ID HTML opcional para CSS o JS                      | `None`            
| `elem_classes`| Clases CSS opcionales para personalización          | `None`            
| `render`      | Si se renderiza el box en el contexto actual        | `True`            
|===

==== Casos de uso
- Resaltar o separar secciones de la interfaz.
- Agrupar campos relacionados en formularios.
- Aplicar estilos visuales personalizados a grupos de componentes.
- Estructuración visual en dashboards y aplicaciones complejas.


=== Sidebar: Panel lateral para navegación o controles adicionales

El componente `Sidebar` en Gradio permite colocar componentes en un panel lateral fijo, ideal para navegación, filtros, parámetros globales o controles adicionales que deben estar siempre accesibles durante la interacción con la aplicación.

==== Características principales
- Permite agrupar cualquier tipo de componente (inputs, outputs, botones, etc.) en un panel lateral.
- El sidebar permanece visible mientras se navega por la aplicación.
- Facilita la organización de controles globales, menús de navegación o ajustes generales.
- Puede combinarse con otros layouts como `Tabs`, `Row`, `Column`, etc.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Sidebar():
        gr.Markdown("## Menú")
        gr.Button("Inicio")
        gr.Button("Configuración")
        gr.Checkbox(label="Modo oscuro")
    gr.Textbox(label="Entrada principal")
    gr.Button("Procesar")

demo.launch()
----

==== Ejemplo avanzado: Sidebar con filtros y navegación

[source,python]
----
import gradio as gr

with gr.Blocks() as demo:
    with gr.Sidebar():
        gr.Markdown("### Filtros")
        gr.Dropdown(choices=["Todos", "Activos", "Inactivos"], label="Estado")
        gr.Slider(minimum=0, maximum=100, label="Rango de puntuación")
        gr.Button("Aplicar filtros")
    with gr.Row():
        gr.Dataframe(label="Resultados")
        gr.Plot(label="Visualización")
    gr.Button("Actualizar")

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `elem_id`     | ID HTML opcional para CSS o JS                      | `None`            
| `elem_classes`| Clases CSS opcionales para personalización          | `None`            
| `render`      | Si se renderiza el sidebar en el contexto actual    | `True`            
|===

==== Casos de uso
- Panel de navegación principal o secundario.
- Filtros y controles globales en dashboards.
- Parámetros de configuración accesibles en todo momento.
- Menús de usuario, ayuda o accesibilidad.


== 4. Componentes Especiales y Avanzados
=== State: Almacena valores invisibles para lógica de la app

El componente `State` en Gradio permite almacenar y compartir valores entre funciones y componentes de la interfaz de manera invisible para el usuario. Es fundamental para mantener el estado interno de la aplicación, gestionar variables globales, historiales, contadores, sesiones, etc.

==== Características principales
- Permite guardar cualquier valor Python (números, strings, listas, diccionarios, objetos, etc.).
- El valor almacenado no es visible ni editable por el usuario.
- Facilita la comunicación y persistencia de datos entre eventos y callbacks.
- Se puede inicializar con un valor por defecto.
- Puede haber múltiples estados en una misma app.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr

def incrementar(contador):
    return contador + 1, contador + 1

with gr.Blocks() as demo:
    estado = gr.State(0)  # Estado inicial: 0
    boton = gr.Button("Incrementar")
    salida = gr.Number(label="Contador")
    boton.click(fn=incrementar, inputs=estado, outputs=[salida, estado])

demo.launch()
----

==== Ejemplo avanzado: Historial de interacciones

[source,python]
----
import gradio as gr

def actualizar_historial(texto, historial):
    historial = historial or []
    historial.append(texto)
    return "\n".join(historial), historial

with gr.Blocks() as demo:
    historial = gr.State([])
    entrada = gr.Textbox(label="Mensaje")
    salida = gr.Textbox(label="Historial", lines=5)
    enviar = gr.Button("Enviar")
    enviar.click(fn=actualizar_historial, inputs=[entrada, historial], outputs=[salida, historial])

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `value`       | Valor inicial del estado                            | `None`            
|===

==== Casos de uso
- Contadores, historiales y variables globales.
- Gestión de sesiones de usuario o contexto conversacional.
- Almacenamiento de parámetros intermedios o resultados temporales.
- Comunicación entre callbacks y lógica avanzada de la app.

=== Lectura y escritura de archivos

La lectura y escritura de archivos es una operación fundamental en Python y en aplicaciones interactivas como Gradio. Permite cargar datos desde archivos, procesarlos y guardar resultados generados por la aplicación.

==== Lectura de archivos

Para leer archivos en Python, se utiliza normalmente la función `open()` junto con los métodos `.read()`, `.readline()`, o `.readlines()`. En Gradio, cuando el usuario sube un archivo usando el componente `File`, este se recibe como un objeto de archivo (`file`) o como una ruta (`filepath`), dependiendo de la configuración.

[source,python]
----
# Leer un archivo de texto subido por el usuario en Gradio
import gradio as gr

def leer_archivo(archivo):
    if archivo is None:
        return "No se ha subido ningún archivo."
    with open(archivo.name, "r", encoding="utf-8") as f:
        contenido = f.read(200)
    return f"Primeros 200 caracteres:\n{contenido}"

demo = gr.Interface(
    fn=leer_archivo,
    inputs=gr.File(label="Sube un archivo de texto", file_types=[".txt"]),
    outputs=gr.Textbox(label="Vista previa")
)

demo.launch()
----

==== Escritura de archivos

Para guardar información en un archivo, se utiliza también la función `open()` pero en modo escritura (`"w"` para texto o `"wb"` para binario). En Gradio, puedes devolver la ruta de un archivo generado para que el usuario lo descargue usando el componente `File` como salida.

[source,python]
----
# Generar y guardar un archivo de texto para descarga
import gradio as gr

def generar_archivo(texto):
    nombre = "salida.txt"
    with open(nombre, "w", encoding="utf-8") as f:
        f.write(texto)
    return nombre

demo = gr.Interface(
    fn=generar_archivo,
    inputs=gr.Textbox(label="Texto a guardar"),
    outputs=gr.File(label="Descarga tu archivo")
)

demo.launch()
----

==== Consideraciones importantes

- Para archivos binarios (imágenes, audio, etc.), usa `"rb"` y `"wb"` como modos de apertura.
- Verifica siempre que el archivo no sea `None` antes de operar sobre él.
- En Gradio, los archivos generados deben estar disponibles en el entorno donde corre la app para que puedan ser descargados.
- Puedes trabajar con archivos temporales usando la librería `tempfile` de Python si no quieres dejar archivos en disco permanentemente.

==== Casos de uso
- Procesamiento de documentos, imágenes o datos subidos por el usuario.
- Generación de reportes, resultados o archivos de salida descargables.
- Conversión de formatos, análisis de datos, almacenamiento temporal, etc.

=== Button: Botón para enviar o detener la app

El componente `Button` en Gradio permite añadir botones interactivos a la interfaz, que pueden usarse para enviar datos, ejecutar funciones, limpiar campos, detener procesos, duplicar entradas, iniciar sesión, entre otras acciones. Es esencial para controlar el flujo de la aplicación y definir cuándo se ejecutan las funciones principales o secundarias
- Permite ejecutar funciones al hacer clic mediante el evento `.click()`.
- Puede tener diferentes variantes: botón estándar, de limpiar, de detener, de duplicar, de login, etc.
- El texto del botón es personalizable.
- Puede usarse para enviar formularios, lanzar predicciones, limpiar salidas, detener procesos, etc.
- Soporta múltiples botones en una misma interfaz, cada uno con su propia función.
- En la API de bloques (`gr.Blocks`), se puede asociar a cualquier función y a cualquier flujo de datos básico

[source,python]
----
import gradio as gr

def saludar(nombre):
    return f"¡Hola, {nombre}!"

with gr.Blocks() as demo:
    entrada = gr.Textbox(label="Tu nombre")
    salida = gr.Textbox(label="Saludo")
    boton = gr.Button("Saludar")
    boton.click(fn=saludar, inputs=entrada, outputs=salida)
demo.launch()
----

==== Ejemplo avanzado: Varios botones y acciones

[source,python]
----
import gradio as gr

def sumar(a, b):
    return a + b

def restablecer():
    return "", ""

with gr.Blocks() as demo:
    num1 = gr.Number(label="Número 1")
    num2 = gr.Number(label="Número 2")
    resultado = gr.Textbox(label="Resultado")
    sumar_btn = gr.Button("Sumar")
    limpiar_btn = gr.Button("Limpiar")
    sumar_btn.click(sumar, inputs=[num1, num2], outputs=resultado)
    limpiar_btn.click(restablecer, outputs=[num1, num2])
demo.launch()
----

==== Parámetros principales

|===
| Parámetro   | Descripción                                           | Valor por defecto 
| `value`     | Texto que aparece en el botón                         | `"Button"`        
| `variant`   | Tipo de botón: `"primary"`, `"secondary"`, `"stop"`, etc. | `"secondary"` 
| `icon`      | Icono opcional para mostrar junto al texto            | `None`            
| `visible`   | Si el botón es visible o no                           | `True`            
|===

==== Eventos soportados

- `.click(fn, inputs, outputs)`: Ejecuta la función `fn` al hacer clic, pasando los valores de los componentes de entrada y actualizando los de salidaclear()`, `.duplicate()`, `.login()`, `.deeplink()`, etc., según la variante del botón.

==== Casos de uso
- Enviar formularios o datos para procesamiento.
- Lanzar predicciones de modelos de ML.
- Limpiar, duplicar o detener procesos en la app.
- Controlar el flujo de interacción en dashboards complejos.

=== Progress: Barra de progreso para procesos largos

El componente `Progress` en Gradio permite mostrar una barra de progreso visual durante la ejecución de procesos largos o tareas que requieren feedback al usuario, como cargas, descargas, entrenamiento de modelos, procesamiento de datos, etc.

==== Características principales
- Muestra una barra de progreso animada e informativa.
- Puede actualizarse dinámicamente desde funciones mediante el callback `progress=gr.Progress()`. y el porcentaje completado.
- Mejora la experiencia de usuario en tareas que tardan varios segundos o minutos.
- Solo disponible en la API de bloques (`gr.Blocks`).

==== Ejemplo de uso básico

[source,python]
----
import gradio as gr
import time

def proceso_lento(progress=gr.Progress()):
    for i in progress.tqdm(range(10), desc="Procesando..."):
        time.sleep(0.3)
    return "¡Proceso completado!"

demo = gr.Interface(
    fn=proceso_lento,
    inputs=[],
    outputs=gr.Textbox(label="Resultado")
)

demo.launch()
----

==== Ejemplo avanzado: Progreso con mensajes personalizados

[source,python]
----
import gradio as gr
import time

def cargar_datos(progress=gr.Progress()):
    for i in progress.tqdm(range(5), desc="Cargando datos..."):
        time.sleep(0.5)
    for i in progress.tqdm(range(5), desc="Procesando datos..."):
        time.sleep(0.5)
    return "Datos cargados y procesados."

demo = gr.Interface(
    fn=cargar_datos,
    inputs=[],
    outputs=gr.Textbox(label="Estado")
)

demo.launch()
----

==== Parámetros principales

|===
| Parámetro     | Descripción                                         | Valor por defecto 
| `desc`        | Descripción o mensaje mostrado en la barra          | `""`              
| `total`       | Número total de pasos o iteraciones                 | `None`            
|===

==== Casos de uso
- Procesos de carga, descarga o procesamiento de datos.
- Entrenamiento de modelos de machine learning.
- Tareas largas en pipelines de IA o ciencia de datos.
- Feedback visual para mejorar la experiencia de usuario.



